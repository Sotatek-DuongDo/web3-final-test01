(this["webpackJsonpsample-web3"]=this["webpackJsonpsample-web3"]||[]).push([[0],{264:function(e,t,n){},289:function(e,t){},313:function(e,t){},315:function(e,t){},390:function(e,t){},392:function(e,t){},425:function(e,t){},430:function(e,t){},432:function(e,t){},439:function(e,t){},452:function(e,t){},475:function(e,t){},483:function(e,t){},485:function(e,t){},499:function(e,t){},562:function(e,t,n){},592:function(e,t,n){},593:function(e,t,n){"use strict";n.r(t);var a=n(4),s=n.n(a),i=n(132),r=n.n(i),u=n(599),p=n(96),c=(n(264),n(78)),o=n(1),l=n.n(o),d=n(67),y=n(34),m=n(138),b=n(248),j=n.n(b),f=n(97),h=n.n(f),v=n(36),w=n(250),x=n(251),O=new w.a({supportedChainIds:[1,2,3,4,5,56,97]}),T=new x.a({rpc:{56:"https://bsc-dataseed4.binance.org/"},qrcode:!0,pollingInterval:12e3}),k=n.p+"static/media/metamask.4368e45a.svg",g=n.p+"static/media/walletconnect.dfa25e47.svg",M=(n(562),n(9)),N=function(e){var t=e.handleConnected;return Object(M.jsxs)("div",{className:"connect-wrapper",children:[Object(M.jsxs)("div",{className:"btn-connect",onClick:function(){return t("metamask")},children:[Object(M.jsx)("img",{className:"icon",src:k,alt:""}),Object(M.jsx)("span",{className:"span",children:"Metamask"})]}),Object(M.jsxs)("div",{className:"btn-connect mt20",onClick:function(){return t("walletconnect")},children:[Object(M.jsx)("img",{className:"icon",src:g,alt:""}),Object(M.jsx)("span",{className:"span",children:"Wallet connect"})]})]})},S=n(252),C=function(e){return Object(v.usePromiseTracker)({area:e.area}).promiseInProgress&&Object(M.jsx)("div",{className:"spinner",style:{width:"100vw",height:"100vh"},children:Object(M.jsx)(S.BarLoader,{color:"#1D8BF1",height:"5",width:"100%"})})},_=(n(592),{content:{with:"500px",height:"300px",top:"50%",left:"50%",right:"auto",bottom:"auto",borderRadius:"20px",marginRight:"-50%",transform:"translate(-50%, -50%)"}});var D=function(){var e=Object(a.useRef)(),t=Object(a.useState)(),n=Object(y.a)(t,2)[1],s=Object(a.useState)(),i=Object(y.a)(s,2),r=i[0],u=i[1],o=Object(p.b)(),b=o.active,f=o.chainId,w=o.library,x=o.account,k=o.activate,g=Object(a.useState)(),S=Object(y.a)(g,2),D=S[0],P=S[1],F=Object(a.useState)(),A=Object(y.a)(F,2),B=A[0],W=A[1],I=Object(a.useState)(),E=Object(y.a)(I,2),H=E[0],R=E[1],L=Object(a.useState)(),q=Object(y.a)(L,2),J=q[0],V=q[1],Y=Object(a.useState)(!1),U=Object(y.a)(Y,2),X=U[0],z=U[1],G=Object(a.useState)(!1),K=Object(y.a)(G,2),Q=K[0],Z=K[1],$=Object(a.useState)({title:"withdraw",value:null,displayvalue:0}),ee=Object(y.a)($,2),te=ee[0],ne=ee[1],ae=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}],se="0xc778417e063141139fce010982780140aa0cd5ab",ie=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],re=[{inputs:[{internalType:"contract DD2Token",name:"_dd2",type:"address"},{internalType:"uint256",name:"_dd2PerBlock",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"dd2",outputs:[{internalType:"contract DD2Token",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"dd2PerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_from",type:"uint256"},{internalType:"uint256",name:"_to",type:"uint256"}],name:"getBlocks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"pendingDD2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updatePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ue="0x9da687e88b0A807e57f1913bCD31D56c49C872c2";Object(a.useEffect)((function(){if(w){var e=!1;w.getBlockNumber().then((function(t){e||n(t)})).catch((function(){e||n(null)}));var t=function(e){n(e)};return w.on("block",t),function(){w.removeListener("block",t),e=!0,n(void 0)}}}),[w,f]),Object(a.useEffect)((function(){if(w&&x){var t=!1;w.getBalance(x).then((function(e){t||u(e)})).catch((function(){t||u(null)}));var n=new h.a(window.web3.currentProvider);return e.current=n,le(),function(){t=!0,u(void 0)}}}),[w,x,f]);var pe=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(z(!1),!isNaN(te.value)){t.next=3;break}return t.abrupt("return");case 3:if(n=new e.current.eth.Contract(re,ue),"stake"!==te.title){t.next=14;break}return t.prev=5,t.next=8,Object(v.trackPromise)(n.methods.deposit(te.value).send({from:x}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),console.log(t.t0);case 13:return t.abrupt("return");case 14:if("withdraw"!==te.title){t.next=23;break}return t.prev=15,t.next=18,Object(v.trackPromise)(n.methods.withdraw(Number(te.value)).send({from:x}));case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(15),console.log(t.t1);case 23:return t.next=25,Object(v.trackPromise)(le());case 25:case"end":return t.stop()}}),t,null,[[5,10],[15,20]])})));return function(){return t.apply(this,arguments)}}(),ce=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new e.current.eth.Contract(ae,se),t.next=4,Object(v.trackPromise)(n.methods.approve(ue,50006).call());case 4:Z(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),oe=function(e){z(!0);var t="stake"===e?parseFloat(Object(m.a)(r)).toPrecision(4):0;ne({displayvalue:t,title:e,value:0})},le=function(){var t=Object(d.a)(l.a.mark((function t(){var n,a,s,i,r,u,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new e.current.eth.Contract(re,ue),a=new e.current.eth.Contract(ie,"0xb1745657CB84c370DD0Db200a626d06b28cc5872"),s=new e.current.eth.Contract(ae,se),t.next=6,a.methods.balanceOf(x).call();case 6:return i=t.sent,P(parseFloat(i)),t.next=10,n.methods.userInfo(x).call();case 10:return r=t.sent,R(parseFloat(r.amount)),t.next=14,s.methods.balanceOf(ue).call();case 14:u=t.sent,V(parseFloat(h.a.utils.fromWei(u,"ether")).toFixed(2)),p=parseFloat(r.amount)/parseFloat(u)*100,W(p),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new h.a(window.web3.currentProvider),n=new t.eth.Contract(ue,re),e.next=5,Object(v.trackPromise)(n.methods.updatePool().call());case 5:return e.next=7,Object(v.trackPromise)(le());case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)("header",{className:"App-header",children:"Using web3js sample "}),Object(M.jsx)("div",{className:"wrapper-content",children:b?Object(M.jsxs)("div",{className:"wallet-info",children:[Object(M.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",lineHeight:"2rem"},children:[Object(M.jsxs)("div",{className:"left",children:[Object(M.jsx)("span",{children:"Wallet: "}),Object(M.jsx)("span",{children:void 0===x?"...":null===x?"None":"".concat(x.substring(0,6),"...").concat(x.substring(x.length-4))})]}),Object(M.jsxs)("div",{className:"right",children:[Object(M.jsx)("span",{children:"Balance: "}),Object(M.jsx)("span",{children:void 0===r?"...":null===r?"Error":"".concat(parseFloat(Object(m.a)(r)).toPrecision(4)," ETH")})]})]}),Object(M.jsxs)("div",{className:"Stake__token",children:[Object(M.jsx)("div",{style:{width:"100%",textAlign:"left",paddingLeft:"10px"},children:"Stake Token"}),Object(M.jsxs)("div",{className:"Stake__token-container",children:[Object(M.jsxs)("span",{children:["Token earned: ",D||0," DD2"]}),Object(M.jsx)("button",{className:"btn",onClick:de,children:"Havest"})]})]}),Object(M.jsx)("div",{className:"Stake__actions",children:Q?Object(M.jsxs)("div",{className:"approval",children:[Object(M.jsx)("button",{className:"btn",onClick:function(){return oe("stake")},children:"Stake"}),Object(M.jsx)("button",{className:"btn",style:{marginRight:"20px"},onClick:function(){return oe("withdraw")},children:"Withdraw"})]}):Object(M.jsx)("div",{className:"action",children:Object(M.jsx)("button",{className:"btn",onClick:ce,children:"Approval"})})}),Object(M.jsxs)("div",{className:"Stake__pool-info",children:[Object(M.jsxs)("div",{className:"Stake__pool-info-row",children:[Object(M.jsx)("span",{children:"Shared of pool"}),Object(M.jsxs)("span",{children:[B||0," %"]})]}),Object(M.jsxs)("div",{className:"Stake__pool-info-row",children:[Object(M.jsx)("span",{children:"Your Stake"}),Object(M.jsxs)("span",{children:[H||0," Token"]})]}),Object(M.jsxs)("div",{className:"Stake__pool-info-row",children:[Object(M.jsx)("span",{children:"Total Stake"}),Object(M.jsxs)("span",{children:[J||0," Token"]})]})]})]}):Object(M.jsx)(N,{handleConnected:function(e){switch(e){case"metamask":k(O);break;case"walletconnect":k(T)}}})}),Object(M.jsx)(j.a,{isOpen:X,onRequestClose:function(){z(!1)},style:_,children:Object(M.jsxs)("div",{className:"modal-container",children:[Object(M.jsx)("span",{children:te.title}),Object(M.jsxs)("div",{className:"modal-input",children:[Object(M.jsx)("input",{placeholder:"input here",className:"input",value:te.value,onChange:function(e){ne(Object(c.a)(Object(c.a)({},te),{},{value:e.target.value}))}}),Object(M.jsx)("span",{className:"label",onClick:function(){ne(Object(c.a)(Object(c.a)({},te),{},{value:te.displayvalue}))},children:"MAX"})]}),"stake"===te.title?Object(M.jsxs)("span",{children:["Your balance ",te.displayvalue," WETH"]}):Object(M.jsxs)("span",{children:["Total staked: ",te.displayvalue," DD2"]}),Object(M.jsx)("button",{className:"btn-modal",onClick:pe,children:"Submit"})]})}),Object(M.jsx)(C,{})]})};r.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(p.a,{getLibrary:function(e){var t=new u.a(e);return t.pollingInterval=8e3,t},children:Object(M.jsx)(D,{})})}),document.getElementById("root"))}},[[593,1,2]]]);
//# sourceMappingURL=main.e33eab7f.chunk.js.map